# springcloud

## Eureka

Spring Cloud 封装了 Netflix 公司开发的 Eureka 模块来实现服务治理。  
在传统的RPC远程调用框架中，管理每个服务与服务之间依赖关系比较复杂，所以需要使用服务治理，可以实现服务调用、负载均衡、容错等，实现服务注册与发现。  
Eureka Server 作为服务注册功能的服务器，它是注册服务中心，而系统中的其他微服务使用Eureka的客户端连接到 Eureka Server 并维持心跳链接。  
在服务注册与发现中，有一个注册中心。当服务器启动的时候，会把当前服务器的信息以别名方式注册到注册中心。另一方（消费者|服务提供者）以该别名的方式去注册中心上获取实际的服务通讯地址，然后再实现RPC远程调用。  
![Eureka系统架构](static/image/Eureka.jpg "Eureka系统架构")  

## Ribbon
Spring Cloud Ribbon 是基于 Netflix Ribbon 实现的一套 客户端 负载均衡的工具。  
提供客户端的软件负载均衡算法和服务调用。  

## OpenFeign
Feign 是一个声明式的web service客户端，它让微服务之间的调用变得更简单了。  
它的使用方法是定义一个服务接口，然后在上面添加注解。Feign 可以与 Ribbon 和 Eureka组合使用，以支持负载均衡。  

## Hystrix
### 分布式系统面临的问题
复杂分布式体系结构中的应用结构有数十个依赖关系，每个依赖关系到某些时候将不可避免的失败。
### 扇出
多个微服务之间调用的时候，假设微服务A调用微服务B和微服务C，然后微服务B和C又调用其他的微服务，这就是所谓的扇出。  
### 服务雪崩
如果扇出的链路上某个微服务的调用响应时间过长或者不可用，对微服务A的调用就会占用越来越多的系统资源，进而引起系统崩溃，这就是所谓的雪崩效应。  

Hystrix 是一个用于分布式系统的延迟和容错的开源库，能够保证在一个依赖出问题的情况下，不会导致整体服务失败，避免级联故障，以提高分布式系统的弹性。